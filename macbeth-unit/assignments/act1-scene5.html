<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macbeth Act 1 Scene 5 - Classroom Assignment</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .story-summary {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .story-summary h2 {
            color: #34495e;
            margin-top: 0;
        }
        .editable {
            background-color: #fff;
            border: 1px solid #bdc3c7;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            min-height: 20px;
        }
        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .question-type {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .multiple-choice {
            background-color: #3498db;
            color: white;
        }
        .short-answer {
            background-color: #e74c3c;
            color: white;
        }
        .options {
            list-style: none;
            padding: 0;
        }
        .options li {
            margin: 8px 0;
        }
        .options input[type="radio"] {
            margin-right: 8px;
        }
        textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        .btn {
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 16px;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .btn-danger {
            background-color: #e74c3c;
        }
        .btn-danger:hover {
            background-color: #c0392b;
        }
        .btn-success {
            background-color: #27ae60;
        }
        .btn-success:hover {
            background-color: #229954;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Macbeth Act 1 Scene 5 - Classroom Assignment</h1>
        
        <div class="story-summary">
            <h2>Story Summary</h2>
            <div class="editable" contenteditable="true" data-field="setting">
                <strong>Setting:</strong> Macbeth's castle at Inverness. Lady Macbeth is reading a letter from her husband.
            </div>
            <div class="editable" contenteditable="true" data-field="what-happens">
                <strong>What Happens:</strong> Lady Macbeth reads Macbeth's letter about the witches' prophecies. She immediately begins plotting to help Macbeth become king. She fears that Macbeth is too kind to kill Duncan, so she resolves to convince him to do it. When Macbeth arrives, she tells him that Duncan is coming to stay the night and that they must kill him. She outlines her plan to drug the guards and frame them for the murder.
            </div>
            <div class="editable" contenteditable="true" data-field="characters">
                <strong>Characters:</strong> Lady Macbeth (Macbeth's wife), Macbeth (when he arrives), A messenger (who announces Duncan's arrival).
            </div>
        </div>

        <div class="question" data-question-id="1">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 1:</strong> What does Lady Macbeth fear about her husband?</p>
            <ul class="options">
                <li><input type="radio" name="q1" value="a"> He is too weak</li>
                <li><input type="radio" name="q1" value="b"> He is too kind to kill Duncan</li>
                <li><input type="radio" name="q1" value="c"> He is too old</li>
                <li><input type="radio" name="q1" value="d"> He is too honest</li>
            </ul>
        </div>

        <div class="question" data-question-id="2">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 2:</strong> What does Lady Macbeth plan to do to the guards?</p>
            <ul class="options">
                <li><input type="radio" name="q2" value="a"> Kill them</li>
                <li><input type="radio" name="q2" value="b"> Drug them and frame them for the murder</li>
                <li><input type="radio" name="q2" value="c"> Send them away</li>
                <li><input type="radio" name="q2" value="d"> Bribe them</li>
            </ul>
        </div>

        <div class="question" data-question-id="3">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 3:</strong> What famous line does Lady Macbeth say about her husband?</p>
            <ul class="options">
                <li><input type="radio" name="q3" value="a"> "He is too kind"</li>
                <li><input type="radio" name="q3" value="b"> "Yet do I fear thy nature; it is too full o' the milk of human kindness"</li>
                <li><input type="radio" name="q3" value="c"> "He will never be king"</li>
                <li><input type="radio" name="q3" value="d"> "He is too weak"</li>
            </ul>
        </div>

        <div class="question" data-question-id="4">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 4:</strong> How does Lady Macbeth's character contrast with Macbeth's? What does this reveal about their relationship?</p>
            <textarea name="q4" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="5">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 5:</strong> What does Lady Macbeth's immediate plotting reveal about her character? How does she view power and ambition?</p>
            <textarea name="q5" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="6">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 6:</strong> How does Shakespeare use Lady Macbeth to advance the plot? What role does she play in Macbeth's transformation?</p>
            <textarea name="q6" placeholder="Your answer here..."></textarea>
        </div>

        <div class="controls">
            <button class="btn" onclick="enableEditMode()">Edit Assignment</button>
            <button class="btn btn-success" onclick="saveAssignment()">Save Changes</button>
            <button class="btn btn-danger" onclick="cancelEdit()">Cancel</button>
            <button class="btn" onclick="addNewQuestion()">Add Question</button>
            <button class="btn btn-success" onclick="submitAssignment()">Submit Assignment</button>
        </div>
    </div>

    <script>
        let editMode = false;

        function enableEditMode() {
            editMode = true;
            document.querySelectorAll('.editable').forEach(el => {
                el.style.border = '2px solid #3498db';
                el.style.backgroundColor = '#ecf0f1';
            });
        }

        function editElementInline(element) {
            if (!editMode) return;
            
            const newContent = prompt('Edit content:', element.textContent);
            if (newContent !== null) {
                element.textContent = newContent;
            }
        }

        function saveAssignment() {
            const assignmentData = {
                title: 'Macbeth Act 1 Scene 5 - Classroom Assignment',
                summary: {
                    setting: document.querySelector('[data-field="setting"]').textContent,
                    whatHappens: document.querySelector('[data-field="what-happens"]').textContent,
                    characters: document.querySelector('[data-field="characters"]').textContent
                },
                questions: []
            };

            document.querySelectorAll('.question').forEach(questionEl => {
                const questionId = questionEl.dataset.questionId;
                const questionText = questionEl.querySelector('p strong').textContent;
                const questionType = questionEl.querySelector('.question-type').textContent.trim();
                
                let answer = '';
                if (questionType === 'Multiple Choice') {
                    const selectedOption = questionEl.querySelector('input[type="radio"]:checked');
                    answer = selectedOption ? selectedOption.value : '';
                } else {
                    answer = questionEl.querySelector('textarea').value;
                }

                assignmentData.questions.push({
                    id: questionId,
                    text: questionText,
                    type: questionType,
                    answer: answer
                });
            });

            localStorage.setItem('macbeth-act1-scene5-assignment', JSON.stringify(assignmentData));
            alert('Assignment saved successfully!');
            editMode = false;
        }

        function cancelEdit() {
            editMode = false;
            document.querySelectorAll('.editable').forEach(el => {
                el.style.border = '1px solid #bdc3c7';
                el.style.backgroundColor = '#fff';
            });
        }

        function addNewQuestion() {
            const questionsContainer = document.querySelector('.container');
            const newQuestionId = document.querySelectorAll('.question').length + 1;
            
            const newQuestion = document.createElement('div');
            newQuestion.className = 'question';
            newQuestion.dataset.questionId = newQuestionId;
            newQuestion.innerHTML = `
                <span class="question-type multiple-choice">Multiple Choice</span>
                <p><strong>Question ${newQuestionId}:</strong> <span contenteditable="true">Enter your question here...</span></p>
                <ul class="options">
                    <li><input type="radio" name="q${newQuestionId}" value="a"> <span contenteditable="true">Option A</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="b"> <span contenteditable="true">Option B</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="c"> <span contenteditable="true">Option C</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="d"> <span contenteditable="true">Option D</span></li>
                </ul>
                <button class="btn btn-danger" onclick="deleteQuestion(${newQuestionId})">Delete Question</button>
            `;
            
            questionsContainer.insertBefore(newQuestion, document.querySelector('.controls'));
        }

        function deleteQuestion(questionId) {
            const questionEl = document.querySelector(`[data-question-id="${questionId}"]`);
            if (questionEl && confirm('Are you sure you want to delete this question?')) {
                questionEl.remove();
            }
        }

        function submitAssignment() {
            const answers = {};
            document.querySelectorAll('.question').forEach(questionEl => {
                const questionId = questionEl.dataset.questionId;
                const questionType = questionEl.querySelector('.question-type').textContent.trim();
                
                if (questionType === 'Multiple Choice') {
                    const selectedOption = questionEl.querySelector('input[type="radio"]:checked');
                    answers[questionId] = selectedOption ? selectedOption.value : '';
                } else {
                    answers[questionId] = questionEl.querySelector('textarea').value;
                }
            });

            localStorage.setItem('macbeth-act1-scene5-answers', JSON.stringify(answers));
            alert('Assignment submitted successfully!');
        }

        // Load saved assignment if it exists
        window.addEventListener('load', function() {
            const savedAssignment = localStorage.getItem('macbeth-act1-scene5-assignment');
            if (savedAssignment) {
                const data = JSON.parse(savedAssignment);
                document.querySelector('[data-field="setting"]').textContent = data.summary.setting;
                document.querySelector('[data-field="what-happens"]').textContent = data.summary.whatHappens;
                document.querySelector('[data-field="characters"]').textContent = data.summary.characters;
            }
        });
    </script>
</body>
</html>