<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamlet Act 3 - Classroom Assignment</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .story-summary {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .story-summary h2 {
            color: #34495e;
            margin-top: 0;
        }
        .editable {
            background-color: #fff;
            border: 1px solid #bdc3c7;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            min-height: 20px;
        }
        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .question-type {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .multiple-choice {
            background-color: #3498db;
            color: white;
        }
        .short-answer {
            background-color: #e74c3c;
            color: white;
        }
        .options {
            list-style: none;
            padding: 0;
        }
        .options li {
            margin: 8px 0;
        }
        .options input[type="radio"] {
            margin-right: 8px;
        }
        textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        .btn {
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 16px;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .btn-danger {
            background-color: #e74c3c;
        }
        .btn-danger:hover {
            background-color: #c0392b;
        }
        .btn-success {
            background-color: #27ae60;
        }
        .btn-success:hover {
            background-color: #229954;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hamlet Act 3 - Classroom Assignment</h1>
        
        <div class="story-summary">
            <h2>Story Summary</h2>
            <div class="editable" contenteditable="true" data-field="setting">
                <strong>Setting:</strong> Elsinore Castle, Denmark. Act 3 contains some of the most famous scenes in literature, including Hamlet's soliloquy and the play-within-a-play.
            </div>
            <div class="editable" contenteditable="true" data-field="what-happens">
                <strong>What Happens:</strong> Hamlet delivers his famous "To be or not to be" soliloquy, contemplating suicide and the nature of existence. He confronts Ophelia and tells her to go to a nunnery. The players perform "The Murder of Gonzago" with Hamlet's added lines. Claudius reacts violently to the play, confirming his guilt. Hamlet confronts his mother in her chamber and kills Polonius, thinking he is Claudius. The ghost appears again to remind Hamlet of his mission. Hamlet is sent to England with Rosencrantz and Guildenstern.
            </div>
            <div class="editable" contenteditable="true" data-field="characters">
                <strong>Characters:</strong> Hamlet (delivering soliloquy and confronting Ophelia), Ophelia (confronted by Hamlet), Claudius (reacting to the play), Gertrude (confronted by Hamlet), Polonius (killed by Hamlet), The Ghost (appearing to Hamlet), Rosencrantz and Guildenstern (escorting Hamlet), The Players (performing the play), Horatio (watching the play with Hamlet).
            </div>
        </div>

        <div class="question" data-question-id="1">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 1:</strong> What is the famous soliloquy that Hamlet delivers in Act 3?</p>
            <ul class="options">
                <li><input type="radio" name="q1" value="a"> "To be or not to be"</li>
                <li><input type="radio" name="q1" value="b"> "What a piece of work is a man"</li>
                <li><input type="radio" name="q1" value="c"> "The play's the thing"</li>
                <li><input type="radio" name="q1" value="d"> "Something is rotten in the state of Denmark"</li>
            </ul>
        </div>

        <div class="question" data-question-id="2">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 2:</strong> What does Hamlet tell Ophelia to do?</p>
            <ul class="options">
                <li><input type="radio" name="q2" value="a"> Marry him</li>
                <li><input type="radio" name="q2" value="b"> Go to a nunnery</li>
                <li><input type="radio" name="q2" value="c"> Leave Denmark</li>
                <li><input type="radio" name="q2" value="d"> Stay with him</li>
            </ul>
        </div>

        <div class="question" data-question-id="3">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 3:</strong> What happens when Claudius watches the play?</p>
            <ul class="options">
                <li><input type="radio" name="q3" value="a"> He enjoys it</li>
                <li><input type="radio" name="q3" value="b"> He reacts violently and leaves</li>
                <li><input type="radio" name="q3" value="c"> He falls asleep</li>
                <li><input type="radio" name="q3" value="d"> He applauds</li>
            </ul>
        </div>

        <div class="question" data-question-id="4">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 4:</strong> What is the significance of Hamlet's "To be or not to be" soliloquy? How does it reveal his inner conflict and philosophical nature?</p>
            <textarea name="q4" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="5">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 5:</strong> How does the play-within-a-play function as a test of Claudius's guilt? What does his reaction reveal?</p>
            <textarea name="q5" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="6">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 6:</strong> What is the significance of Hamlet's confrontation with Ophelia? How does it reveal his state of mind and his relationship with her?</p>
            <textarea name="q6" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="7">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 7:</strong> Who does Hamlet kill in his mother's chamber?</p>
            <ul class="options">
                <li><input type="radio" name="q7" value="a"> Claudius</li>
                <li><input type="radio" name="q7" value="b"> Polonius</li>
                <li><input type="radio" name="q7" value="c"> Gertrude</li>
                <li><input type="radio" name="q7" value="d"> Ophelia</li>
            </ul>
        </div>

        <div class="question" data-question-id="8">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 8:</strong> What does Hamlet think he is killing?</p>
            <ul class="options">
                <li><input type="radio" name="q8" value="a"> A rat</li>
                <li><input type="radio" name="q8" value="b"> Claudius</li>
                <li><input type="radio" name="q8" value="c"> A spy</li>
                <li><input type="radio" name="q8" value="d"> A ghost</li>
            </ul>
        </div>

        <div class="question" data-question-id="9">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 9:</strong> What is the significance of Hamlet's confrontation with his mother? How does it reveal the complexity of their relationship?</p>
            <textarea name="q9" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="10">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 10:</strong> How does the ghost's appearance in this act affect Hamlet? What does it reveal about his mission and his state of mind?</p>
            <textarea name="q10" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="11">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 11:</strong> What is the name of the play that the players perform?</p>
            <ul class="options">
                <li><input type="radio" name="q11" value="a"> "The Murder of Gonzago"</li>
                <li><input type="radio" name="q11" value="b"> "The Mousetrap"</li>
                <li><input type="radio" name="q11" value="c"> "The Murder of Gonzago" (also called "The Mousetrap")</li>
                <li><input type="radio" name="q11" value="d"> "Hamlet"</li>
            </ul>
        </div>

        <div class="question" data-question-id="12">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 12:</strong> How does Shakespeare use the play-within-a-play device to advance the plot? What does it reveal about the characters?</p>
            <textarea name="q12" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="13">
            <span class="question-type multiple-choice">Multiple Choice</span>
            <p><strong>Question 13:</strong> What does Hamlet's killing of Polonius reveal about his character?</p>
            <ul class="options">
                <li><input type="radio" name="q13" value="a"> He is careful and deliberate</li>
                <li><input type="radio" name="q13" value="b"> He is impulsive and reckless</li>
                <li><input type="radio" name="q13" value="c"> He is cowardly</li>
                <li><input type="radio" name="q13" value="d"> He is innocent</li>
            </ul>
        </div>

        <div class="question" data-question-id="14">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 14:</strong> How does Act 3 function as the climax of the play? What major events occur that change the course of the story?</p>
            <textarea name="q14" placeholder="Your answer here..."></textarea>
        </div>

        <div class="question" data-question-id="15">
            <span class="question-type short-answer">Short Answer</span>
            <p><strong>Question 15:</strong> What is the dramatic significance of Act 3? How does it set up the resolution that will follow in Acts 4 and 5?</p>
            <textarea name="q15" placeholder="Your answer here..."></textarea>
        </div>

        <div class="controls">
            <button class="btn" onclick="enableEditMode()">Edit Assignment</button>
            <button class="btn btn-success" onclick="saveAssignment()">Save Changes</button>
            <button class="btn btn-danger" onclick="cancelEdit()">Cancel</button>
            <button class="btn" onclick="addNewQuestion()">Add Question</button>
            <button class="btn btn-success" onclick="submitAssignment()">Submit Assignment</button>
        </div>
    </div>

    <script>
        let editMode = false;

        function enableEditMode() {
            editMode = true;
            document.querySelectorAll('.editable').forEach(el => {
                el.style.border = '2px solid #3498db';
                el.style.backgroundColor = '#ecf0f1';
            });
        }

        function editElementInline(element) {
            if (!editMode) return;
            
            const newContent = prompt('Edit content:', element.textContent);
            if (newContent !== null) {
                element.textContent = newContent;
            }
        }

        function saveAssignment() {
            const assignmentData = {
                title: 'Hamlet Act 3 - Classroom Assignment',
                summary: {
                    setting: document.querySelector('[data-field="setting"]').textContent,
                    whatHappens: document.querySelector('[data-field="what-happens"]').textContent,
                    characters: document.querySelector('[data-field="characters"]').textContent
                },
                questions: []
            };

            document.querySelectorAll('.question').forEach(questionEl => {
                const questionId = questionEl.dataset.questionId;
                const questionText = questionEl.querySelector('p strong').textContent;
                const questionType = questionEl.querySelector('.question-type').textContent.trim();
                
                let answer = '';
                if (questionType === 'Multiple Choice') {
                    const selectedOption = questionEl.querySelector('input[type="radio"]:checked');
                    answer = selectedOption ? selectedOption.value : '';
                } else {
                    answer = questionEl.querySelector('textarea').value;
                }

                assignmentData.questions.push({
                    id: questionId,
                    text: questionText,
                    type: questionType,
                    answer: answer
                });
            });

            localStorage.setItem('hamlet-act3-assignment', JSON.stringify(assignmentData));
            alert('Assignment saved successfully!');
            editMode = false;
        }

        function cancelEdit() {
            editMode = false;
            document.querySelectorAll('.editable').forEach(el => {
                el.style.border = '1px solid #bdc3c7';
                el.style.backgroundColor = '#fff';
            });
        }

        function addNewQuestion() {
            const questionsContainer = document.querySelector('.container');
            const newQuestionId = document.querySelectorAll('.question').length + 1;
            
            const newQuestion = document.createElement('div');
            newQuestion.className = 'question';
            newQuestion.dataset.questionId = newQuestionId;
            newQuestion.innerHTML = `
                <span class="question-type multiple-choice">Multiple Choice</span>
                <p><strong>Question ${newQuestionId}:</strong> <span contenteditable="true">Enter your question here...</span></p>
                <ul class="options">
                    <li><input type="radio" name="q${newQuestionId}" value="a"> <span contenteditable="true">Option A</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="b"> <span contenteditable="true">Option B</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="c"> <span contenteditable="true">Option C</span></li>
                    <li><input type="radio" name="q${newQuestionId}" value="d"> <span contenteditable="true">Option D</span></li>
                </ul>
                <button class="btn btn-danger" onclick="deleteQuestion(${newQuestionId})">Delete Question</button>
            `;
            
            questionsContainer.insertBefore(newQuestion, document.querySelector('.controls'));
        }

        function deleteQuestion(questionId) {
            const questionEl = document.querySelector(`[data-question-id="${questionId}"]`);
            if (questionEl && confirm('Are you sure you want to delete this question?')) {
                questionEl.remove();
            }
        }

        function submitAssignment() {
            const answers = {};
            document.querySelectorAll('.question').forEach(questionEl => {
                const questionId = questionEl.dataset.questionId;
                const questionType = questionEl.querySelector('.question-type').textContent.trim();
                
                if (questionType === 'Multiple Choice') {
                    const selectedOption = questionEl.querySelector('input[type="radio"]:checked');
                    answers[questionId] = selectedOption ? selectedOption.value : '';
                } else {
                    answers[questionId] = questionEl.querySelector('textarea').value;
                }
            });

            localStorage.setItem('hamlet-act3-answers', JSON.stringify(answers));
            alert('Assignment submitted successfully!');
        }

        // Load saved assignment if it exists
        window.addEventListener('load', function() {
            const savedAssignment = localStorage.getItem('hamlet-act3-assignment');
            if (savedAssignment) {
                const data = JSON.parse(savedAssignment);
                document.querySelector('[data-field="setting"]').textContent = data.summary.setting;
                document.querySelector('[data-field="what-happens"]').textContent = data.summary.whatHappens;
                document.querySelector('[data-field="characters"]').textContent = data.summary.characters;
            }
        });
    </script>
</body>
</html>
